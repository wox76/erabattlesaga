export const LANGUAGES = {
    IT: 'it',
    EN: 'en'
};

let currentLanguage = LANGUAGES.IT;

const DICTIONARY = {
    it: {
        // UI Defaults
        'ui.start': 'GIOCA',
        'ui.start_reign': 'INIZIA IL REGNO',
        'ui.continue': 'CONTINUA',
        'ui.save': 'SALVA',
        'ui.saved': 'PARTITA SALVATA',
        'ui.delete_save': 'RESET DATI',
        // Spells
        'spell.fireball.name': 'Palla di Fuoco',
        'spell.fireball.desc': 'Infligge danni ai nemici',
        'spell.fury.name': 'Furia Cieca',
        'spell.fury.desc': 'Raddoppia attacco unità',
        'spell.block.name': 'Blocco Nemici',
        'spell.block.desc': 'Congela i nemici',
        'ui.requests': 'Richieste',
        'ui.quests': 'Missioni',
        'ui.army': 'ESERCITO',
        'ui.fight': 'COMBATTI!',
        'ui.retreat': 'RITIRATA / FINE',
        'ui.back_city': 'Torna alla Città',
        'ui.army_power': 'Potenza Esercito',
        'ui.victory': 'VITTORIA!',
        'ui.defeat': 'SCONFITTA!',
        'ui.victory_desc': 'Hai guadagnato 500 Solidi!',
        'ui.defeat_desc': 'Raggruppa le truppe e riprova.',
        'ui.lost_units': 'Unità Perse',
        'ui.make': 'Costruisci',
        'ui.constructing': 'In Costruzione...',
        'ui.completed': 'COMPLETATO',
        'ui.no_requests': 'Il popolo è contento... per ora.',
        'ui.reward': 'Ricompensa',
        'ui.upgrade': 'Migliora',
        'ui.cancel': 'Annulla',
        'ui.level': 'Livello',
        'ui.production': 'Produzione',
        'ui.xp_reward': 'Ricompensa XP',
        'ui.not_enough_resources': 'Risorse insufficienti!',
        'ui.recruit': 'Arruola',
        'ui.commanders_soon': 'Comandanti in arrivo...',
        'ui.returning': 'Ritorno:',
        'ui.level': 'Livello',
        'ui.upgrade_to': 'Migliora a Livello',
        'ui.production': 'Produzione',
        'ui.xp_reward': 'Punti XP',
        'ui.cancel': 'Annulla',
        'ui.confirm': 'Conferma',
        'ui.victory': 'VITTORIA!',
        'ui.defeat': 'SCONFITTA!',
        'ui.victory_msg': 'Hai guadagnato 500 Solidi!',
        'ui.defeat_msg': 'Raggruppati e riprova.',
        'ui.lost_units': 'Unità Perse:',
        'ui.retreat': 'RITIRATA / FINE',
        'ui.army_power': 'Potenza Esercito',
        'ui.fight': 'COMBATTI!',
        'ui.attack': 'ATT',
        'ui.recruit_first': 'Arruola prima delle unità!',
        'ui.req_not_met': 'Requisiti non soddisfatti!',
        'ui.done': 'Fatto',
        'ui.convert_diamond': 'Converti 1 Diamante in 1000 Solidi?',

        // Resources
        'res.gems': 'Gemme',
        'res.diamonds': 'Diamanti',
        'res.solidi': 'Solidi',
        'res.wood': 'Legno',
        'res.stone': 'Pietra',
        'res.iron': 'Ferro',
        'res.food': 'Cibo',

        // Generals
        'general.astralo.name': 'Astralo',
        'general.astralo.desc': 'Maestro della Logistica. +20% Materiali, -10% Morale.',
        'general.crom.name': 'Crom',
        'general.crom.desc': 'Guerrafondaio. +20% Attacco, -10% Materiali.',
        'general.gerelt.name': 'Gerelt',
        'general.gerelt.desc': 'Stratega Veloce. +20% Velocità, -10% Entrate.',
        'general.helena.name': 'Helena',
        'general.helena.desc': 'Genio Economico. +20% Entrate, -10% Attacco.',
        'general.ofle.name': 'Ofle',
        'general.ofle.desc': 'Mastro Costruttore. +10% Materiali, -20% Tempo Costruzione.',
        'general.sonya.name': 'Sonya',
        'general.sonya.desc': 'Difensore. +20% Difesa, +10% Velocità Costruzione.',
        'general.talkenbar.name': 'Talkenbar',
        'general.talkenbar.desc': 'Signore dei Mercanti. +15% Entrate, -10% Dimensione Esercito.',

        // Buildings
        'building.palace.name': 'Palazzo',
        'building.palace.desc': 'La sede del potere. Genera risorse base.',
        'building.house.name': 'Casa',
        'building.house.desc': 'Aumenta il limite di popolazione e le entrate fiscali.',
        'building.woodcutter.name': 'Taglialegna',
        'building.woodcutter.desc': 'Produce Legno.',
        'building.quarry.name': 'Cava',
        'building.quarry.desc': 'Produce Pietra.',
        'building.mine.name': 'Miniera di Ferro',
        'building.mine.desc': 'Estrae Ferro.',
        'building.smithy.name': 'Fucina',
        'building.smithy.desc': 'Forgia Armi e Armature dal Ferro.',
        'building.farm.name': 'Fattoria',
        'building.farm.desc': 'Produce Cibo.',
        'building.market.name': 'Mercato',
        'building.market.desc': 'Aumenta la produzione di Solidi.',
        'building.barracks.name': 'Caserma',
        'building.barracks.desc': 'Addestra soldati.',
        'building.temple.name': 'Tempio',
        'building.temple.desc': 'Luogo di culto. I cittadini lo richiedono.',
        'building.mill.name': 'Mulino',
        'building.mill.desc': 'Aumenta la produzione delle Fattorie del 20%.',
        'building.colosseum.name': 'Colosseo',
        'building.colosseum.desc': 'Intrattenimento per le masse.',

        // UI Workers
        'ui.workers': 'Lavoratori',
        'ui.assign': 'Assegna',
        'ui.unassign': 'Rimuovi',
        'ui.max_workers': 'Max Lavoratori',
        'ui.bonus_per_worker': '+{amount} {res} / lavoratore',
        'ui.craft': 'Forgia',
        'ui.craft_cost': 'Costo',
        'ui.craft_success': 'Oggetto creato con successo!',
        'ui.unit_recruited': 'Unità reclutata!',
        'ui.store': 'Negozio',
        'ui.treasury': 'Tesoreria',
        'ui.armory': 'Armeria',
        'ui.magic': 'Magia',
        'ui.buy': 'Compra',
        'ui.unlock': 'Sblocca',
        'ui.unlocked': 'Sbloccato',
        'ui.purchase_success': 'Acquisto avvenuto con successo!',

        // Store Items
        'store.d_small': 'Pugno di Diamanti',
        'store.d_medium': 'Sacco di Diamanti',
        'store.d_large': 'Forziere di Diamanti',
        'store.r_weapons': 'Cassa di Armi',
        'store.r_armor': 'Cassa di Armature',
        'store.r_solidi': 'Scorta di Solidi',

        'ability.fireball.name': 'Palla di Fuoco',
        'ability.fireball.desc': 'Danno ad area.',
        'ability.ice_nova.name': 'Nova Ghiacciata',
        'ability.ice_nova.desc': 'Congela tutti i nemici per 5s.',
        'ability.thunderbolt.name': 'Fulmine',
        'ability.thunderbolt.desc': 'Danno massiccio a bersaglio singolo.',
        'ability.heal.name': 'Cura di Massa',
        'ability.heal.desc': 'Cura tutte le tue unità.',
        'ability.meteor.name': 'Meteora',
        'ability.meteor.desc': 'Devastazione su tutta l\'area.',

        'ability.fury.name': 'Furia',
        'ability.fury.desc': 'Raddoppia attacco per 10s.',
        'ability.shield_wall.name': 'Muro di Scudi',
        'ability.shield_wall.desc': 'Riduce i danni subiti del 90%.',
        'ability.haste.name': 'Rapidità',
        'ability.haste.desc': 'Aumenta velocità di movimento.',
        'ability.war_cry.name': 'Grido di Guerra',
        'ability.war_cry.desc': 'Dimezza l\'attacco dei nemici.',
        'ability.whirlwind.name': 'Turbine',
        'ability.whirlwind.desc': 'Danni ai nemici vicini.',

        // Resources
        'res.gems': 'Gemme',
        'res.diamonds': 'Diamanti',
        'res.solidi': 'Solidi',
        'res.wood': 'Legno',
        'res.stone': 'Pietra',
        'res.iron': 'Ferro',
        'res.food': 'Cibo',
        'res.weapons': 'Armi',
        'res.armor': 'Armature',

        // Units
        'unit.soldier.name': 'Soldato',
        'unit.soldier.desc': 'Unità di fanteria base.',
        'unit.archer.name': 'Arciere',
        'unit.archer.desc': 'Unità a distanza.',
        'unit.knight.name': 'Cavaliere',
        'unit.knight.desc': 'Unità a cavallo.',
        'unit.hero.name': 'Eroe',
        'unit.hero.desc': 'Leader potente.',

        // Exploration
        'explore.wood.name': 'Cerca Legno',
        'explore.stone.name': 'Cerca Pietra',
        'explore.iron.name': 'Cerca Ferro',

        // Generic Quests
        'q_bounty': 'Taglia #{num}',
        'q_bounty_desc': 'Una richiesta standard dalla gilda per la taglia #{num}.',
        'sq_donate': 'Dona {amount} {resource}.',
        'sq_battle': 'Sconfiggi l\'esercito di {enemy}.',
        'sq_hunt': 'Caccia un {enemy}.',
        'sq_fees': 'Paga le tasse della gilda (100 Solidi).',

        // Tutorial Quests
        'q_tutorial_gathering.title': 'Le Fondamenta',
        'q_tutorial_gathering.desc': 'Ogni grande città inizia con una singola pietra. Raccogli risorse per iniziare il viaggio.',
        'sq_1_1.text': 'Dona 50 Legno per la costruzione.',
        'sq_1_2.text': 'Dona 50 Pietra per le fondamenta.',
        'sq_1_3.text': 'Costruisci almeno 1 Casa.',

        // Requests
        'req.pop_boom.title': 'Esplosione Demografica',
        'req.pop_boom.desc': 'Cittadini arrivano ogni giorno. Costruisci una Casa.',
        'req.new_families.title': 'Nuove Famiglie',
        'req.new_families.desc': 'Le giovani coppie hanno bisogno di case. Costruisci una Casa.',
        'req.refugees.title': 'Rifugiati',
        'req.refugees.desc': 'I rifugiati cercano riparo. Costruisci una Casa.',
        'req.expansion.title': 'Piani di Espansione',
        'req.expansion.desc': 'La città deve crescere. Costruisci una Casa.',
        'req.housing.title': 'Carenza di Alloggi',
        'req.housing.desc': 'Le strade sono affollate. Costruisci una Casa.',
        'req.winter.title': 'Rifugio Invernale',
        'req.winter.desc': 'L\'inverno sta arrivando. Costruisci una Casa.',
        'req.merchant_homes.title': 'Quartiere Mercantile',
        'req.merchant_homes.desc': 'I mercanti hanno bisogno di residenze. Costruisci una Casa.',
        'req.craftsmen.title': 'Case per Artigiani',
        'req.craftsmen.desc': 'Attira manodopera qualificata. Costruisci una Casa.',

        'req.famine.title': 'Allarme Carestia',
        'req.famine.desc': 'Le scorte scarseggiano. Costruisci una Fattoria.',
        'req.grain.title': 'Fornitura di Grano',
        'req.grain.desc': 'Serve più grano. Costruisci una Fattoria.',
        'req.army_feed.title': 'Nutrire l\'Esercito',
        'req.army_feed.desc': 'Le truppe marciano a stomaco vuoto. Costruisci una Fattoria.',
        'req.agri_boom.title': 'Boom Agricolo',
        'req.agri_boom.desc': 'Buon clima per i raccolti. Costruisci una Fattoria.',
        'req.orchards.title': 'Frutteti di Mele',

        // Enemies & Monsters
        'enemy.bandits': 'Banditi',
        'enemy.rebels': 'Ribelli',
        'enemy.mercenaries': 'Mercenari',
        'enemy.orcs': 'Orchi',
        'enemy.undead': 'Non-Morti',
        'monster.giant_spider': 'Ragno Gigante',
        'monster.ogre': 'Orco',
        'monster.troll': 'Troll',
        'monster.basilisk': 'Basilisco',
        'monster.wyvern': 'Viverna',

        'req.orchards.desc': 'La gente chiede frutta. Costruisci una Fattoria.',
        'req.cattle.title': 'Allevamento di Bestiame',
        'req.cattle.desc': 'La carne è un lusso. Costruisci una Fattoria.',
        'req.golden_fields.title': 'Campi Dorati',
        'req.golden_fields.desc': 'Espandi la nostra agricoltura. Costruisci una Fattoria.',

        'req.lumber.title': 'Necessità di Legname',
        'req.lumber.desc': 'La costruzione è ferma. Costruisci un Taglialegna.',
        'req.ship_timber.title': 'Legname Navale',
        'req.ship_timber.desc': 'La marina ha bisogno di legno. Costruisci un Taglialegna.',
        'req.firewood.title': 'Legna da Ardere',
        'req.firewood.desc': 'L\'inverno richiede legna. Costruisci un Taglialegna.',
        'req.forest.title': 'Disboscamento',
        'req.forest.desc': 'Espandi la frontiera. Costruisci un Taglialegna.',
        'req.carpenter.title': 'Richiesta del Carpentiere',
        'req.carpenter.desc': 'I carpentieri hanno bisogno di forniture. Costruisci un Taglialegna.',

        'req.walls.title': 'Fortificazioni Murarie',
        'req.walls.desc': 'Serve pietra per le mura. Costruisci una Cava.',
        'req.paving.title': 'Pavimentazione Strade',
        'req.paving.desc': 'Le strade sono fangose. Costruisci una Cava.',
        'req.monument.title': 'Materiale per Monumenti',
        'req.monument.desc': 'Gli scultori necessitano marmo. Costruisci una Cava.',
        'req.foundation.title': 'Lavori di Fondazione',
        'req.foundation.desc': 'I nuovi edifici necessitano fondamenta. Costruisci una Cava.',
        'req.rock.title': 'Fornitura di Roccia',
        'req.rock.desc': 'Accumula pietra. Costruisci una Cava.',

        'req.weapons.title': 'Forgiatura Armi',
        'req.weapons.desc': 'I fabbri sono inattivi. Costruisci una Miniera di Ferro.',
        'req.armor.title': 'Produzione Armature',
        'req.armor.desc': 'La legione necessita armature. Costruisci una Miniera di Ferro.',
        'req.tools.title': 'Carenza di Attrezzi',
        'req.tools.desc': 'I contadini necessitano aratri. Costruisci una Miniera di Ferro.',
        'req.deep_earth.title': 'Terra Profonda',
        'req.deep_earth.desc': 'Ricchezze giacciono sotto. Costruisci una Miniera di Ferro.',
        'req.iron_age.title': 'Età del Ferro',
        'req.iron_age.desc': 'Il ferro è potere. Costruisci una Miniera di Ferro.',

        'req.trade.title': 'Rotte Commerciali',
        'req.trade.desc': 'I mercanti vogliono un centro. Costruisci un Mercato.',
        'req.commerce.title': 'Commercio Locale',
        'req.commerce.desc': 'I contadini dipendono dal commercio. Costruisci un Mercato.',
        'req.tax.title': 'Entrate Fiscali',
        'req.tax.desc': 'Aumenta l\'efficienza fiscale. Costruisci un Mercato.',
        'req.foreign.title': 'Merci Estere',
        'req.foreign.desc': 'Importa beni di lusso. Costruisci un Mercato.',
        'req.bazaar.title': 'Apertura Bazaar',
        'req.bazaar.desc': 'La gente ama fare acquisti. Costruisci un Mercato.',
        'req.coin.title': 'Flusso di Monete',
        'req.coin.desc': 'Mantieni l\'oro in movimento. Costruisci un Mercato.',

        'req.militia.title': 'Addestramento Milizia',
        'req.militia.desc': 'Addestra i contadini. Costruisci una Caserma.',
        'req.patrol.title': 'Pattuglia di Confine',
        'req.patrol.desc': 'Proteggi i confini. Costruisci una Caserma.',
        'req.guards.title': 'Guardie d\'Elite',
        'req.guards.desc': 'Il Generale necessita guardie. Costruisci una Caserma.',
        'req.draft.title': 'Coscrizione',
        'req.draft.desc': 'Arruola più soldati. Costruisci una Caserma.',
        'req.war_prep.title': 'Preparativi di Guerra',
        'req.war_prep.desc': 'Avvistati esploratori nemici. Costruisci una Caserma.',
        'req.training.title': 'Campi di Addestramento',
        'req.training.desc': 'Mantieni le truppe pronte. Costruisci una Caserma.',

        'req.divine.title': 'Favore Divino',
        'req.divine.desc': 'Gli Dei sono arrabbiati. Costruisci un Tempio.',
        'req.festival.title': 'Festival Religioso',
        'req.festival.desc': 'Ospita un festival. Costruisci un Tempio.',
        'req.holy.title': 'Sito Sacro',
        'req.holy.desc': 'I pellegrini stanno arrivando. Costruisci un Tempio.',
        'req.spiritual.title': 'Guida Spirituale',
        'req.spiritual.desc': 'La gente cerca risposte. Costruisci un Tempio.',

        'req.games.title': 'Grandi Giochi',
        'req.games.desc': 'Ospita i grandi giochi! Costruisci un Colosseo.',
        'req.gladiator.title': 'Combattimento Gladiatori',
        'req.gladiator.desc': 'La gente vuole sangue. Costruisci un Colosseo.',
        'req.display.title': 'Esibizione Pubblica',
        'req.display.desc': 'Mostra il tuo potere. Costruisci un Colosseo.',
        'req.entertainment.title': 'Centro di Intrattenimento',
        'req.entertainment.desc': 'Distrai le masse. Costruisci un Colosseo.',
        'req.victory.title': 'Celebrazione Vittoria',
        'req.victory.desc': 'Celebra le nostre conquiste. Costruisci un Colosseo.'
    },
    en: {
        // UI Defaults
        'ui.start': 'START',
        'ui.start_reign': 'START REIGN',
        'ui.continue': 'CONTINUE',
        'ui.save': 'SAVE',
        'ui.saved': 'GAME SAVED',
        'ui.delete_save': 'RESET DATA',
        // Spells
        'spell.fireball.name': 'Fireball',
        'spell.fireball.desc': 'Deals damage to enemies',
        'spell.fury.name': 'Blind Fury',
        'spell.fury.desc': 'Double unit attack',
        'spell.block.name': 'Enemy Block',
        'spell.block.desc': 'Freezes enemies',
        'ui.requests': 'Requests',
        'ui.quests': 'Quests',
        'ui.army': 'ARMY',
        'ui.fight': 'FIGHT!',
        'ui.retreat': 'RETREAT / END',
        'ui.back_city': 'Back to City',
        'ui.army_power': 'Army Power',
        'ui.victory': 'VICTORY!',
        'ui.defeat': 'DEFEAT!',
        'ui.victory_desc': 'You earned 500 Solidi!',
        'ui.defeat_desc': 'Regroup and try again.',
        'ui.lost_units': 'Lost Units',
        'ui.make': 'Make',
        'ui.constructing': 'Constructing...',
        'ui.completed': 'COMPLETED',
        'ui.no_requests': 'The people are content... for now.',
        'ui.reward': 'Reward',
        'ui.upgrade': 'Upgrade',
        'ui.cancel': 'Cancel',
        'ui.level': 'Level',
        'ui.production': 'Production',
        'ui.xp_reward': 'XP Reward',
        'ui.not_enough_resources': 'Not enough resources!',
        'ui.recruit': 'Recruit',
        'ui.commanders_soon': 'Commanders coming soon...',
        'ui.returning': 'Back:',
        'ui.level': 'Level',
        'ui.upgrade_to': 'Upgrade to Level',
        'ui.production': 'Production',
        'ui.xp_reward': 'XP Reward',
        'ui.cancel': 'Cancel',
        'ui.confirm': 'Confirm',
        'ui.victory': 'VICTORY!',
        'ui.defeat': 'DEFEAT!',
        'ui.victory_msg': 'You earned 500 Solidi!',
        'ui.defeat_msg': 'Regroup and try again.',
        'ui.lost_units': 'Lost Units:',
        'ui.retreat': 'RETREAT / END',
        'ui.army_power': 'Army Power',
        'ui.fight': 'FIGHT!',
        'ui.attack': 'ATK',
        'ui.recruit_first': 'Recruit some units first!',
        'ui.req_not_met': 'Requirements not met!',
        'ui.done': 'Done',
        'ui.convert_diamond': 'Convert 1 Diamond to 1000 Solidi?',

        // Resources
        'res.gems': 'Gems',
        'res.diamonds': 'Diamonds',
        'res.solidi': 'Solidi',
        'res.wood': 'Wood',
        'res.stone': 'Stone',
        'res.iron': 'Iron',
        'res.food': 'Food',

        // Generals
        // ... (Generals names often don't change, but descriptions do. For brevity, defaulting to EN if missing or just copying)
        'general.astralo.name': 'Astralo',
        'general.astralo.desc': 'Master of Logistics. +20% Materials, -10% Morale.',
        'general.crom.name': 'Crom',
        'general.crom.desc': 'Warmonger. +20% Attack, -10% Materials.',
        'general.gerelt.name': 'Gerelt',
        'general.gerelt.desc': 'Swift Strategist. +20% Speed, -10% Income.',
        'general.helena.name': 'Helena',
        'general.helena.desc': 'Economic Genius. +20% Income, -10% Attack.',
        'general.ofle.name': 'Ofle',
        'general.ofle.desc': 'Master Builder. +10% Materials, -20% Build Time.',
        'general.sonya.name': 'Sonya',
        'general.sonya.desc': 'Defender. +20% Defense, +10% Build Speed.',
        'general.talkenbar.name': 'Talkenbar',
        'general.talkenbar.desc': 'Merchant Lord. +15% Income, -10% Army Size.',

        // Buildings
        'building.palace.name': 'Palace',
        'building.palace.desc': 'The seat of power. Generates base resources.',
        'building.house.name': 'House',
        'building.house.desc': 'Increases population cap and tax revenue.',
        'building.woodcutter.name': 'Woodcutter',
        'building.woodcutter.desc': 'Produces Wood.',
        'building.quarry.name': 'Quarry',
        'building.quarry.desc': 'Produces Stone.',
        'building.mine.name': 'Iron Mine',
        'building.mine.desc': 'Extracts Iron.',
        'building.smithy.name': 'Smithy',
        'building.smithy.desc': 'Forges Weapons and Armor from Iron.',
        'building.farm.name': 'Farm',
        'building.farm.desc': 'Produces Food.',
        'building.market.name': 'Market',
        'building.market.desc': 'Increases Solidi production.',
        'building.barracks.name': 'Barracks',
        'building.barracks.desc': 'Trains soldiers.',
        'building.temple.name': 'Temple',
        'building.temple.desc': 'A place for worship. Citizens request this.',
        'building.mill.name': 'Mill',
        'building.mill.desc': 'Increases Farm production by 20%.',
        'building.colosseum.name': 'Colosseum',
        'building.colosseum.desc': 'Entertainment for the masses.',

        // UI Workers
        'ui.workers': 'Workers',
        'ui.assign': 'Assign',
        'ui.unassign': 'Unassign',
        'ui.max_workers': 'Max Workers',
        'ui.bonus_per_worker': '+{amount} {res} / worker',
        'ui.craft': 'Craft',
        'ui.craft_cost': 'Cost',
        'ui.craft_success': 'Item Crafted!',

        // Resources
        'res.gems': 'Gems',
        'res.diamonds': 'Diamonds',
        'res.solidi': 'Solidi',
        'res.wood': 'Wood',
        'res.stone': 'Stone',
        'res.iron': 'Iron',
        'res.food': 'Food',
        'res.weapons': 'Weapons',
        'res.armor': 'Armor',

        // Units
        'unit.soldier.name': 'Soldier',
        'unit.soldier.desc': 'Basic infantry unit.',
        'unit.archer.name': 'Archer',
        'unit.archer.desc': 'Ranged unit.',
        'unit.knight.name': 'Knight',
        'unit.knight.desc': 'Mounted unit.',
        'unit.hero.name': 'Hero',
        'unit.hero.desc': 'Powerful leader.',

        // Exploration
        'explore.wood.name': 'Search for Wood',
        'explore.stone.name': 'Search for Stone',
        'explore.iron.name': 'Search for Iron',

        // Generic Quests
        'q_bounty': 'Bounty #{num}',
        'q_bounty_desc': 'A standard request from the guild for bounty #{num}.',
        'sq_donate': 'Donate {amount} {resource}.',
        'sq_battle': 'Defeat {enemy} army.',
        'sq_hunt': 'Hunt down a {enemy}.',
        'sq_fees': 'Pay guild fees (100 Solidi).',

        // Tutorial Quests
        'q_tutorial_gathering.title': 'The Foundation',
        'q_tutorial_gathering.desc': 'Every great city starts with a single stone. Gather resources to begin your journey.',
        'sq_1_1.text': 'Donate 50 Wood for construction.',
        'sq_1_2.text': 'Donate 50 Stone for foundations.',
        'sq_1_3.text': 'Build at least 1 House.',

        // Requests - Map these to the codes
        'req.pop_boom.title': 'Population Boom',
        'req.pop_boom.desc': 'Citizens are arriving daily. Build a House.',
        'req.new_families.title': 'New Families',
        'req.new_families.desc': 'Young couples need homes. Build a House.',
        'req.refugees.title': 'Refugees',
        'req.refugees.desc': 'Refugees seek shelter. Build a House.',
        'req.expansion.title': 'Expansion Plans',
        'req.expansion.desc': 'The city must grow. Build a House.',
        'req.housing.title': 'Housing Shortage',
        'req.housing.desc': 'Streets are crowded. Build a House.',
        'req.winter.title': 'Winter Shelter',
        'req.winter.desc': 'Winter is coming. Build a House.',
        'req.merchant_homes.title': 'Merchant Quarter',
        'req.merchant_homes.desc': 'Merchants need residences. Build a House.',
        'req.craftsmen.title': 'Craftsmen Homes',
        'req.craftsmen.desc': 'Attract skilled labor. Build a House.',

        'req.famine.title': 'Famine Warning',
        'req.famine.desc': 'Stores are running low. Build a Farm.',
        'req.grain.title': 'Grain Supply',
        'req.grain.desc': 'We need more grain. Build a Farm.',
        'req.army_feed.title': 'Feeding the Army',
        'req.army_feed.desc': 'Troops march on empty stomachs. Build a Farm.',
        'req.agri_boom.title': 'Agricultural Boom',
        'req.agri_boom.desc': 'Good weather for crops. Build a Farm.',
        'req.orchards.title': 'Apple Orchards',

        // Enemies & Monsters
        'enemy.bandits': 'Bandits',
        'enemy.rebels': 'Rebels',
        'enemy.mercenaries': 'Mercenaries',
        'enemy.orcs': 'Orcs',
        'enemy.undead': 'Undead',
        'monster.giant_spider': 'Giant Spider',
        'monster.ogre': 'Ogre',
        'monster.troll': 'Troll',
        'monster.basilisk': 'Basilisk',
        'monster.wyvern': 'Wyvern',

        'req.orchards.desc': 'People demand fruit. Build a Farm.',
        'req.cattle.title': 'Cattle Ranching',
        'req.cattle.desc': 'Meat is a luxury. Build a Farm.',
        'req.golden_fields.title': 'Golden Fields',
        'req.golden_fields.desc': 'Expand our agriculture. Build a Farm.',

        'req.lumber.title': 'Lumber Needs',
        'req.lumber.desc': 'Construction has stalled. Build a Woodcutter.',
        'req.ship_timber.title': 'Shipbuilding Timber',
        'req.ship_timber.desc': 'The navy needs wood. Build a Woodcutter.',
        'req.firewood.title': 'Fuel for Fires',
        'req.firewood.desc': 'Winter demands firewood. Build a Woodcutter.',
        'req.forest.title': 'Clear the Forest',
        'req.forest.desc': 'Expand the frontier. Build a Woodcutter.',
        'req.carpenter.title': 'Carpenter\'s Request',
        'req.carpenter.desc': 'Carpenters need supply. Build a Woodcutter.',

        'req.walls.title': 'Wall Fortifications',
        'req.walls.desc': 'We need stone for walls. Build a Quarry.',
        'req.paving.title': 'Paving Roads',
        'req.paving.desc': 'Roads are muddy. Build a Quarry.',
        'req.monument.title': 'Monument Material',
        'req.monument.desc': 'Sculptors need marble. Build a Quarry.',
        'req.foundation.title': 'Foundation Work',
        'req.foundation.desc': 'New buildings need foundations. Build a Quarry.',
        'req.rock.title': 'Rock Supply',
        'req.rock.desc': 'Stockpile stone. Build a Quarry.',

        'req.weapons.title': 'Weaponsmithing',
        'req.weapons.desc': 'Smiths are idle. Build a Iron Mine.',
        'req.armor.title': 'Armor Production',
        'req.armor.desc': 'The legion needs armor. Build a Iron Mine.',
        'req.tools.title': 'Tool Shortage',
        'req.tools.desc': 'Farmers need plows. Build a Iron Mine.',
        'req.deep_earth.title': 'Deep Earth',
        'req.deep_earth.desc': 'Riches lie beneath. Build a Iron Mine.',
        'req.iron_age.title': 'Iron Age',
        'req.iron_age.desc': 'Iron is power. Build a Iron Mine.',

        'req.trade.title': 'Trade Routes',
        'req.trade.desc': 'Merchants want a hub. Build a Market.',
        'req.commerce.title': 'Local Commerce',
        'req.commerce.desc': 'Farmers depend on trade. Build a Market.',
        'req.tax.title': 'Tax Revenue',
        'req.tax.desc': 'Increase tax efficiency. Build a Market.',
        'req.foreign.title': 'Foreign Goods',
        'req.foreign.desc': 'Import luxury items. Build a Market.',
        'req.bazaar.title': 'Bazaar Opening',
        'req.bazaar.desc': 'The people love shopping. Build a Market.',
        'req.coin.title': 'Coin Flow',
        'req.coin.desc': 'Keep the gold moving. Build a Market.',

        'req.militia.title': 'Militia Parsing',
        'req.militia.desc': 'Train the peasants. Build a Barracks.',
        'req.patrol.title': 'Border Patrol',
        'req.patrol.desc': 'Secure the borders. Build a Barracks.',
        'req.guards.title': 'Elite Guards',
        'req.guards.desc': 'The General needs guards. Build a Barracks.',
        'req.draft.title': 'Conscription',
        'req.draft.desc': 'Draft more soldiers. Build a Barracks.',
        'req.war_prep.title': 'War Preparations',
        'req.war_prep.desc': 'Enemy scouts spotted. Build a Barracks.',
        'req.training.title': 'Training Grounds',
        'req.training.desc': 'Keep troops sharp. Build a Barracks.',

        'req.divine.title': 'Divine Favor',
        'req.divine.desc': 'The Gods are angry. Build a Temple.',
        'req.festival.title': 'Religious Festival',
        'req.festival.desc': 'Host a festival. Build a Temple.',
        'req.holy.title': 'Holy Site',
        'req.holy.desc': 'Pilgrims are coming. Build a Temple.',
        'req.spiritual.title': 'Spiritual Guidance',
        'req.spiritual.desc': 'The people seek answers. Build a Temple.',

        'req.games.title': 'Grand Games',
        'req.games.desc': 'Host the grand games! Build a Colosseum.',
        'req.gladiator.title': 'Gladiator Combat',
        'req.gladiator.desc': 'The people want blood. Build a Colosseum.',
        'req.display.title': 'Public Display',
        'req.display.desc': 'Show your power. Build a Colosseum.',
        'req.entertainment.title': 'Entertainment Hub',
        'req.entertainment.desc': 'Distract the masses. Build a Colosseum.',
        'req.victory.title': 'Victory Celebration',
        'req.victory.desc': 'Celebrate our conquests. Build a Colosseum.'
    }
};

export function setLanguage(lang) {
    if (Object.values(LANGUAGES).includes(lang)) {
        currentLanguage = lang;
    }
}

export function t(key, params = {}) {
    // 1. Try Current Language
    let translation = DICTIONARY[currentLanguage][key];

    // 2. Fallback to EN
    if (!translation) {
        translation = DICTIONARY[LANGUAGES.EN][key];
    }

    // 3. Fallback to Key
    if (!translation) {
        return key;
    }

    // 4. Interpolation
    // Replace {paramKey} with params[paramKey]
    if (params) {
        Object.keys(params).forEach(pKey => {
            let val = params[pKey];

            // Check if val itself is a key (recursive translation for 1 level)
            if (typeof val === 'string') {
                const nestedTrans = DICTIONARY[currentLanguage][val] || DICTIONARY[LANGUAGES.EN][val];
                if (nestedTrans) val = nestedTrans;
            }

            // Regex to replace all occurrences
            translation = translation.replace(new RegExp(`{${pKey}}`, 'g'), val);
        });
    }

    return translation;
}

export function getCurrentLanguage() {
    return currentLanguage;
}
